<?xml version="1.0" encoding="ISO-8859-1"?>

<web-app xmlns="http://java.sun.com/xml/ns/j2ee"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/j2ee web-app_2_4.xsd"
    version="2.4">

	
	<display-name>VHWAR</display-name>	
	<description>Web module for the Zlocker project</description>
			

	<filter>
		<filter-name>sitemesh</filter-name>
		<filter-class>com.vh.locker.filter.PageFilter</filter-class>
	</filter>
	<filter-mapping>
		<filter-name>sitemesh</filter-name>
		<url-pattern>/*</url-pattern>
	</filter-mapping>


	<servlet>
		<servlet-name>action</servlet-name>
		<servlet-class>org.apache.struts.action.ActionServlet</servlet-class>
		<init-param>
			<param-name>config</param-name>
			<param-value>/components/conf/struts-config-components.xml,/common/conf/struts-config-common.xml,/outside/conf/struts-config-outside.xml,/modules/bills/conf/struts-config-bills.xml,/modules/email/conf/struts-config-email.xml,/modules/files/conf/struts-config-files.xml,/modules/html/conf/struts-config-html.xml,/modules/im/conf/struts-config-im.xml,/modules/music/conf/struts-config-music.xml,/modules/notes/conf/struts-config-notes.xml,/modules/phone/conf/struts-config-phone.xml,/modules/photos/conf/struts-config-photos.xml,/modules/trash/conf/struts-config-trash.xml</param-value>
		</init-param>
		<init-param>
			<param-name>application</param-name>
			<param-value>com.vh.locker.resources.application</param-value>
		</init-param>
		<init-param>
			<param-name>debug</param-name>
			<param-value>2</param-value>
		</init-param>
		<init-param>
			<param-name>detail</param-name>
			<param-value>2</param-value>
		</init-param>
		<init-param>
			<param-name>validate</param-name>
			<param-value>true</param-value>
		</init-param>
		<load-on-startup>2</load-on-startup>
	</servlet>
	<servlet>
        <servlet-name>StartupServlet</servlet-name>
        <servlet-class>com.vh.locker.servlet.StartupServlet</servlet-class>	
        <load-on-startup>3</load-on-startup>
    </servlet>
	<servlet>
        <servlet-name>DownloadServlet</servlet-name>
        <servlet-class>com.vh.locker.servlet.DownloadServlet</servlet-class>	
        <load-on-startup>4</load-on-startup>
    </servlet>
	<servlet>
        <servlet-name>BulkDownloadServlet</servlet-name>
        <servlet-class>com.vh.locker.servlet.BulkDownloadServlet</servlet-class>	
        <load-on-startup>5</load-on-startup>
    </servlet>
    <servlet>
        <servlet-name>com.metaparadigm.jsonrpc.JSONRPCServlet</servlet-name>
        <servlet-class>com.metaparadigm.jsonrpc.JSONRPCServlet</servlet-class>
    </servlet>
  
  
    <servlet-mapping>
        <servlet-name>com.metaparadigm.jsonrpc.JSONRPCServlet</servlet-name>
        <url-pattern>/JSON-RPC</url-pattern>
    </servlet-mapping>
	<servlet-mapping>
		<servlet-name>action</servlet-name>
		<url-pattern>*.bg</url-pattern>
	</servlet-mapping>		
	<servlet-mapping>
		<servlet-name>action</servlet-name>
		<url-pattern>*.none</url-pattern>
	</servlet-mapping>	
	<servlet-mapping>
		<servlet-name>action</servlet-name>
		<url-pattern>*.do</url-pattern>
	</servlet-mapping>
    <servlet-mapping>
    	<servlet-name>StartupServlet</servlet-name>
    	<url-pattern>/StartupServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>DownloadServlet</servlet-name>
    	<url-pattern>/DownloadServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
    	<servlet-name>BulkDownloadServlet</servlet-name>
    	<url-pattern>/BulkDownloadServlet</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>jsp</servlet-name>
        <url-pattern>/common/jsp/include/include_outside_js.js</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>jsp</servlet-name>
        <url-pattern>/common/jsp/include/include_js.js</url-pattern>
    </servlet-mapping>
    <servlet-mapping>
        <servlet-name>jsp</servlet-name>
        <url-pattern>/common/jsp/include/include_css.css</url-pattern>
    </servlet-mapping>

    
	<welcome-file-list>
		<welcome-file>ssodetect.jsp</welcome-file>
		<welcome-file>index.jsp</welcome-file>
	</welcome-file-list>
	
	
    <error-page>
        <error-code>404</error-code>
        <location>/common/jsp/error404.jsp</location>
    </error-page>
	<error-page>
        <error-code>500</error-code>
        <location>/common/jsp/error.jsp</location>
    </error-page>


	<taglib>
		<taglib-uri>/struts-bean</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-bean.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/struts-html</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-html.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/struts-logic</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-logic.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/struts-template</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-template.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/struts-nested</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-nested.tld</taglib-location>
	</taglib>
	<taglib>
		<taglib-uri>/struts-tiles</taglib-uri>
		<taglib-location>/WEB-INF/tld/struts-tiles.tld</taglib-location>
	</taglib>
	<taglib>
    	<taglib-uri>/struts-html-el</taglib-uri>
    	<taglib-location>/WEB-INF/tld/struts-html-el.tld</taglib-location>
    </taglib>  
	<taglib>
    	<taglib-uri>/struts-bean-el</taglib-uri>
    	<taglib-location>/WEB-INF/tld/struts-bean-el.tld</taglib-location>
    </taglib>  
	<taglib>
    	<taglib-uri>/struts-logic-el</taglib-uri>
    	<taglib-location>/WEB-INF/tld/struts-logic-el.tld</taglib-location>
    </taglib> 
    <taglib>
    	<taglib-uri>/decorator</taglib-uri>
 		<taglib-location>/WEB-INF/tld/sitemesh-decorator.tld</taglib-location>
  	</taglib>	
    <taglib>
    	<taglib-uri>/sitemesh-page</taglib-uri>
 		<taglib-location>/WEB-INF/tld/sitemesh-page.tld</taglib-location>
  	</taglib>
	<taglib>
    	<taglib-uri>/z</taglib-uri>
 		<taglib-location>/WEB-INF/tld/z.tld</taglib-location>
  	</taglib>	
	<taglib><!-- enables log4j from jsp pages: "http://jakarta.apache.org/taglibs/doc/log-doc" -->
		<taglib-uri>/log</taglib-uri>
		<taglib-location>/WEB-INF/tld/taglibs-log.tld</taglib-location>
	</taglib>
	<taglib><!-- enables date and time related functions from jsp pages: "http://jakarta.apache.org/taglibs/doc/datetime-doc" -->
		<taglib-uri>/datetime</taglib-uri>
		<taglib-location>/WEB-INF/tld/taglibs-datetime.tld</taglib-location>
	</taglib>	
	<taglib><!-- generate random number/string from jsp pages: "http://jakarta.apache.org/taglibs/doc/random-doc" -->
		<taglib-uri>/random</taglib-uri>
		<taglib-location>/WEB-INF/tld/taglibs-random.tld</taglib-location>
	</taglib>
	<taglib><!-- http://coldjava.hypermart.net/servlets/cooktag.htm -->
		<taglib-uri>/cookie</taglib-uri>
		<taglib-location>/WEB-INF/tld/cookietag.tld</taglib-location>
	</taglib>


    <!-- START: JOSSO security constraint -->
    <security-constraint>
        <web-resource-collection>
            <web-resource-name>protected-resources</web-resource-name>
            <url-pattern>/*</url-pattern>
            <http-method>HEAD</http-method>
            <http-method>GET</http-method>
            <http-method>POST</http-method>
            <http-method>PUT</http-method>
            <http-method>DELETE</http-method>
        </web-resource-collection>
        <auth-constraint>
            <role-name>build</role-name>
        </auth-constraint>
        <user-data-constraint>
            <transport-guarantee>NONE</transport-guarantee>
        </user-data-constraint>
    </security-constraint>

    <login-config>
        <auth-method>FORM</auth-method>
        <form-login-config>
            <form-login-page>/common/jsp/login-redirect.jsp</form-login-page>
            <form-error-page>/common/jsp/login-redirect.jsp</form-error-page>
        </form-login-config>
    </login-config>

    <security-role >
        <description>Build Role</description>
        <role-name>build</role-name>
    </security-role>
    <!-- END: JOSSO security constraint -->


	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/AlbumHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.AlbumHome</local-home>
		<local>com.vh.locker.ejb.Album</local>
		<ejb-link>LockerEJB.jar#Album</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/ApplicationHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.ApplicationHome</local-home>
		<local>com.vh.locker.ejb.Application</local>
		<ejb-link>LockerEJB.jar#Application</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/ArtistHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.ArtistHome</local-home>
		<local>com.vh.locker.ejb.Artist</local>
		<ejb-link>LockerEJB.jar#Artist</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/ContactHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.ContactHome</local-home>
		<local>com.vh.locker.ejb.Contact</local>
		<ejb-link>LockerEJB.jar#Contact</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/CountryHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.CountryHome</local-home>
		<local>com.vh.locker.ejb.Country</local>
		<ejb-link>LockerEJB.jar#Country</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/FileTypeHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.FileTypeHome</local-home>
		<local>com.vh.locker.ejb.FileType</local>
		<ejb-link>LockerEJB.jar#FileType</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/GenreHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.GenreHome</local-home>
		<local>com.vh.locker.ejb.Genre</local>
		<ejb-link>LockerEJB.jar#Genre</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/LanguageHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.LanguageHome</local-home>
		<local>com.vh.locker.ejb.Language</local>
		<ejb-link>LockerEJB.jar#Language</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/MixesHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.MixesHome</local-home>
		<local>com.vh.locker.ejb.Mixes</local>
		<ejb-link>LockerEJB.jar#Mixes</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/MusicFileHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.MusicFileHome</local-home>
		<local>com.vh.locker.ejb.MusicFile</local>
		<ejb-link>LockerEJB.jar#MusicFile</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/PhotoHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.PhotoHome</local-home>
		<local>com.vh.locker.ejb.Photo</local>
		<ejb-link>LockerEJB.jar#Photo</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/PhotoAlbumHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.PhotoAlbumHome</local-home>
		<local>com.vh.locker.ejb.PhotoAlbum</local>
		<ejb-link>LockerEJB.jar#PhotoAlbum</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/RelMusicMixesHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.RelMusicMixesHome</local-home>
		<local>com.vh.locker.ejb.RelMusicMixes</local>
		<ejb-link>LockerEJB.jar#RelMusicMixes</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/RelPhotoAlbumHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.RelPhotoAlbumHome</local-home>
		<local>com.vh.locker.ejb.RelPhotoAlbum</local>
		<ejb-link>LockerEJB.jar#RelPhotoAlbum</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/SecretQuestionHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.SecretQuestionHome</local-home>
		<local>com.vh.locker.ejb.SecretQuestion</local>
		<ejb-link>LockerEJB.jar#SecretQuestion</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/ShortCutHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.ShortCutHome</local-home>
		<local>com.vh.locker.ejb.ShortCut</local>
		<ejb-link>LockerEJB.jar#ShortCut</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/SkinHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.SkinHome</local-home>
		<local>com.vh.locker.ejb.Skin</local>
		<ejb-link>LockerEJB.jar#Skin</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/UserHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.UserHome</local-home>
		<local>com.vh.locker.ejb.User</local>
		<ejb-link>LockerEJB.jar#User</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/UserStatusHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.UserStatusHome</local-home>
		<local>com.vh.locker.ejb.UserStatus</local>
		<ejb-link>LockerEJB.jar#UserStatus</ejb-link>
	</ejb-local-ref>
	<ejb-local-ref>
		<ejb-ref-name>com/vh/locker/ejb/UserTypeHome</ejb-ref-name>
		<ejb-ref-type>Entity</ejb-ref-type>
		<local-home>com.vh.locker.ejb.UserTypeHome</local-home>
		<local>com.vh.locker.ejb.UserType</local>
		<ejb-link>LockerEJB.jar#UserType</ejb-link>
	</ejb-local-ref>

</web-app>
